{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault(); // Prevent the default form submission behavior\n\n  if (validate()) {\n    const formDataWithImage = new FormData();\n    formDataWithImage.append('name', formData.name);\n    formDataWithImage.append('email', formData.email);\n    formDataWithImage.append('description', formData.description);\n    formDataWithImage.append('password', formData.password);\n    if (formData.profilePicture) {\n      formDataWithImage.append('profilePicture', formData.profilePicture);\n    }\n    try {\n      console.log('Submitting FormData:', formDataWithImage);\n\n      // Send the form data to the backend via a POST request\n      await axios.post('http://localhost:5000/api/users/register', formDataWithImage, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // If successful, navigate to the login page\n      setMessage('Registration successful! Redirecting to login...');\n      navigate('/login');\n\n      // Reset form data\n      setFormData({\n        name: '',\n        email: '',\n        description: '',\n        password: '',\n        profilePicture: null\n      });\n    } catch (error) {\n      if (error.response) {\n        setMessage(`Registration failed: ${error.response.data.message || error.response.data}`);\n      } else if (error.request) {\n        setMessage('No response from server. Please try again later.');\n      } else {\n        setMessage(`Error: ${error.message}`);\n      }\n    }\n  } else {\n    setMessage('Please fix the errors in the form.');\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","validate","formDataWithImage","FormData","append","formData","name","email","description","password","profilePicture","console","log","axios","post","headers","setMessage","navigate","setFormData","error","response","data","message","request"],"sources":["/home/engineer/Hama/frontend/src/components/Register.js"],"sourcesContent":["const handleSubmit = async (e) => {\n  e.preventDefault(); // Prevent the default form submission behavior\n\n  if (validate()) {\n    const formDataWithImage = new FormData();\n    formDataWithImage.append('name', formData.name);\n    formDataWithImage.append('email', formData.email);\n    formDataWithImage.append('description', formData.description);\n    formDataWithImage.append('password', formData.password);\n    if (formData.profilePicture) {\n      formDataWithImage.append('profilePicture', formData.profilePicture);\n    }\n\n    try {\n      console.log('Submitting FormData:', formDataWithImage);\n\n      // Send the form data to the backend via a POST request\n      await axios.post('http://localhost:5000/api/users/register', formDataWithImage, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // If successful, navigate to the login page\n      setMessage('Registration successful! Redirecting to login...');\n      navigate('/login');\n\n      // Reset form data\n      setFormData({\n        name: '',\n        email: '',\n        description: '',\n        password: '',\n        profilePicture: null,\n      });\n    } catch (error) {\n      if (error.response) {\n        setMessage(`Registration failed: ${error.response.data.message || error.response.data}`);\n      } else if (error.request) {\n        setMessage('No response from server. Please try again later.');\n      } else {\n        setMessage(`Error: ${error.message}`);\n      }\n    }\n  } else {\n    setMessage('Please fix the errors in the form.');\n  }\n};\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAC,CAAC;;EAEpB,IAAIC,QAAQ,CAAC,CAAC,EAAE;IACd,MAAMC,iBAAiB,GAAG,IAAIC,QAAQ,CAAC,CAAC;IACxCD,iBAAiB,CAACE,MAAM,CAAC,MAAM,EAAEC,QAAQ,CAACC,IAAI,CAAC;IAC/CJ,iBAAiB,CAACE,MAAM,CAAC,OAAO,EAAEC,QAAQ,CAACE,KAAK,CAAC;IACjDL,iBAAiB,CAACE,MAAM,CAAC,aAAa,EAAEC,QAAQ,CAACG,WAAW,CAAC;IAC7DN,iBAAiB,CAACE,MAAM,CAAC,UAAU,EAAEC,QAAQ,CAACI,QAAQ,CAAC;IACvD,IAAIJ,QAAQ,CAACK,cAAc,EAAE;MAC3BR,iBAAiB,CAACE,MAAM,CAAC,gBAAgB,EAAEC,QAAQ,CAACK,cAAc,CAAC;IACrE;IAEA,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEV,iBAAiB,CAAC;;MAEtD;MACA,MAAMW,KAAK,CAACC,IAAI,CAAC,0CAA0C,EAAEZ,iBAAiB,EAAE;QAC9Ea,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;;MAEF;MACAC,UAAU,CAAC,kDAAkD,CAAC;MAC9DC,QAAQ,CAAC,QAAQ,CAAC;;MAElB;MACAC,WAAW,CAAC;QACVZ,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,QAAQ,EAAE,EAAE;QACZC,cAAc,EAAE;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOS,KAAK,EAAE;MACd,IAAIA,KAAK,CAACC,QAAQ,EAAE;QAClBJ,UAAU,CAAC,wBAAwBG,KAAK,CAACC,QAAQ,CAACC,IAAI,CAACC,OAAO,IAAIH,KAAK,CAACC,QAAQ,CAACC,IAAI,EAAE,CAAC;MAC1F,CAAC,MAAM,IAAIF,KAAK,CAACI,OAAO,EAAE;QACxBP,UAAU,CAAC,kDAAkD,CAAC;MAChE,CAAC,MAAM;QACLA,UAAU,CAAC,UAAUG,KAAK,CAACG,OAAO,EAAE,CAAC;MACvC;IACF;EACF,CAAC,MAAM;IACLN,UAAU,CAAC,oCAAoC,CAAC;EAClD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}